---
import ThemeToggle from "./ThemeToggle.astro";
---

<header
  id="navbar"
  class="sticky top-0 z-50 h-20 flex items-center justify-between w-full px-4 glass-nav"
>
  <div class="flex items-center gap-4">
    <a
      href="#"
      class="text-lg font-semibold tracking-wide hover:opacity-80 transition"
      >MiLogo</a
    >
  </div>
  <nav
    id="main-nav"
    class="hidden md:block relative space-x-4"
    aria-label="Main navigation"
  >
    <span id="nav-underline" class="nav-underline"></span>
    <a class="nav-link" href="#sobremi">Sobre mí</a>
    <a class="nav-link" href="#educacion">Educación</a>
    <a class="nav-link" href="#proyectos">Proyectos</a>
    <!-- <div class="ml-2">
        <ThemeToggle />
      </div> -->
  </nav>

  <!-- boton en mobile -->
  <button
    id="mobile-toggle"
    class="md:hidden p-2 rounded-md"
    aria-label="Abrir menú"
  >
    <svg width="20" height="28">
      <use xlink:href="/sprite.svg#menu" />
    </svg>
  </button>
</header>

<div
  id="mobile-menu"
  class="fixed inset-x-4 top-20 z-50 rounded-xl bg-gray-900/75 border border-gray-800 backdrop-blur md:hidden hidden p-4"
>
  <ul class="flex flex-col gap-3 text-base">
    <li>
      <a class="nav-link" href="#sobremi">Sobre mí</a>
      <li><a class="nav-link" href="#educacion">Educación</a></li>
      <li><a class="nav-link" href="#proyectos">Proyectos</a></li>
      <li><a class="nav-link" href="#contacto">Contacto</a></li>
    </li>
  </ul>
</div>

<style is:inline>
#navbar {
  transition: all 250ms ease;
  backdrop-filter: blur(14px);
  background: rgba(10, 10, 10, 0.35);
  border-bottom: 1px solid rgba(255, 255, 255, 0.045);
}

/* Navbar shrink */
#navbar.navbar--shrink {
  height: 3.5rem;
  background: rgba(10, 10, 10, 0.55);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

/* Links */
nav a,
#mobile-menu a {
  position: relative;
  padding: 0.25rem 0;
  font-weight: 500;
  transition: opacity 150ms ease;
}

nav a:hover {
  opacity: 0.6;
}

/* Underline estilo vercel */
.nav-underline {
  position: absolute;
  bottom: -4px;
  height: 1.5px;
  background: white;
  opacity: 0.9;
  border-radius: 2px;
  transition:
    transform 250ms ease,
    width 250ms ease;
  pointer-events: none;
}

/* Glass style más vercel */
.glass-nav {
  background: rgba(15, 15, 15, 0.35);
  backdrop-filter: blur(14px) saturate(1.8);
  border-bottom: 1px solid rgba(255, 255, 255, 0.045);
}

/* shrink */
#navbar.navbar--shrink.glass-nav {
  background: rgba(15, 15, 15, 0.55);
  backdrop-filter: blur(18px) saturate(2);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

/* Mobile menu estilo Vercel panel */
#mobile-menu {
  background: rgba(15, 15, 15, 0.85);
  border: 1px solid rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(18px);
  box-shadow:
    0 12px 28px rgba(0, 0, 0, 0.35),
    inset 0 0 0 1px rgba(255, 255, 255, 0.04);
  transition: opacity 200ms ease, transform 200ms ease;
  transform: translateY(-6px);
  opacity: 0;
}

#mobile-menu:not(.hidden) {
  opacity: 1;
  transform: translateY(0);
}

#mobile-menu a:hover {
  opacity: 0.6;
}

/* Botón mobile */
#mobile-toggle svg {
  stroke: white;
  opacity: 0.9;
  transition: opacity 150ms ease;
}

#mobile-toggle:hover svg {
  opacity: 0.6;
}

</style>

<script src="@scripts/scrollspy"></script>
