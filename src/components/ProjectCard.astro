---
interface Props {
  project: {
    id: number;
    title: string;
    period: string;
    type: string;
    description: string;
    thumbnail: string;
    repository: string | null;
    stack: string[];
  };
}

const { project } = Astro.props;
---

<article
  aria-labelledby={`project-${project.id}-title`}
  class="group relative select-none flex flex-col h-full w-full sm:w-auto overflow-hidden rounded-2xl p-5 border border-white/10 bg-white/5 dark:bg-zinc-900/40 backdrop-blur-xl shadow-[0_4px_22px_-4px_rgba(0,0,0,0.35)] transition-all duration-500 ease-out hover:shadow-[0_10px_40px_-6px_rgba(0,0,0,0.6)] hover:-translate-y-1">
  <div class="pointer-events-none absolute -inset-px rounded-2xl opacity-0 group-hover:opacity-100 transition duration-700 bg-radial from-transparent via-pink-500/10 to-purple-600/10 blur-xl"></div>
  <a
    aria-label="Abrir repositorio en GitHub"
    class="size-7 self-end opacity-70 hover:opacity-100 transition z-10"
    href={project.repository}
    target="_blank"
    rel="noopener noreferrer"
  >
    <svg width="24" height="24">
      <use xlink:href="sprite.svg#github" />
    </svg>
  </a>

  {project.thumbnail && (
    <div class="relative mt-3 rounded-xl overflow-hidden">
      <img
        src={project.thumbnail}
        alt={`Imagen del proyecto ${project.title}`}
        class="w-full aspect-video object-cover rounded-xl border border-white/10 transition duration-500 group-hover:scale-[1.03] group-hover:brightness-[1.15]"
      />
      <div class="absolute inset-0 bg-radial from-black/40 via-black/10 to-transparent  opacity-50 group-hover:opacity-60 transition"></div>
    </div>
  )}

  <!-- Content -->
  <div class="relative flex flex-col gap-3 mt-4 h-full z-10">

    <!-- Headlines -->
    <header class="flex flex-col">
      <h2
        id={`project-${project.id}-title`}
        class="font-semibold text-[17px] sm:text-lg md:text-xl leading-tight text-white"
      >
        {project.title}
      </h2>

      <h3 class="text-xs sm:text-sm text-zinc-400 font-light tracking-wide">
        {project.type}
      </h3>
    </header>

    <!-- Description -->
    <p class="text-sm sm:text-[15px] leading-relaxed mt-1 grow text-zinc-300">
      {project.description}
    </p>

    <!-- Stack -->
    {project.stack?.length > 0 && (
      <ul class="flex flex-wrap gap-2 mt-2">
        {project.stack.map(tech => (
          <li
            class="text-[11px] sm:text-[13px] px-2 py-1 rounded-md bg-white/5 border border-white/10 text-white/90 backdrop-blur-md shadow-[0_0_8px_-2px_rgba(255,255,255,0.25)]">
            {tech}
          </li>
        ))}
      </ul>
    )}
  </div>
</article>
