---
import type { DownloadLink, SocialProfile } from "@/shared/types";
import { Image } from "astro:assets";

const BASE = `
  cursor-pointer flex items-center gap-2
  px-4 py-2 rounded-xl text-sm font-medium
  transition-all duration-200
  active:scale-[0.97]
  hover:-translate-y-[1px]
  shadow-sm hover:shadow-md
  relative overflow-hidden
  before:content-['']
  before:absolute before:inset-0 before:rounded-xl
  before:opacity-0 before:transition-opacity
`;

const VARIANTS: Record<string, string> = {
  primary: `
    bg-gradient-to-r from-[#00B1E6] to-[#0FB9F2]
    text-white border border-[#00B1E6]/40
    hover:brightness-110
    dark:from-[#00B1E6] dark:to-[#0FB9F2]
    dark:text-white dark:border-[#00B1E6]/50
  `,

  outline: `
    border border-[#00B1E6] text-[#00B1E6]
    bg-transparent
    hover:bg-[#00B1E6]/10
    dark:text-[#00CCFF]
    dark:border-[#00CCFF]
    dark:hover:bg-[#00CCFF]/10
  `,

  subtle: `
    bg-black/5 text-black border border-transparent
    hover:bg-black/10
    dark:bg-white/5 dark:text-white
    dark:hover:bg-white/10
  `,

  ghost: `
    text-black/70 border-none shadow-none
    bg-transparent
    hover:bg-black/5
    dark:text-white/70
    dark:hover:bg-white/5
  `,

  chip: `
    text-[#00B1E6] border border-[#00B1E6]/40
    px-3 py-1 rounded-full text-xs shadow-none
    hover:bg-[#00B1E6]/10
    dark:text-[#00CCFF]
    dark:border-[#00CCFF]/40
    dark:hover:bg-[#00CCFF]/10
  `,

  iconBubble: `
    bg-white/10 text-white px-3 py-1.5 rounded-full
    border border-white/20
    hover:bg-white/15 hover:border-white/30
    dark:bg-[#1d2834] dark:text-white
    dark:border-gray-700 dark:hover:bg-[#243241]
  `,
};

function classes(variant: string) {
  return `${BASE} ${VARIANTS[variant] ?? VARIANTS.subtle}`;
}

interface Props {
  downloadLink: DownloadLink;
  profiles: SocialProfile[];
}

const { downloadLink, profiles } = Astro.props;
---

<ul
  class="flex flex-wrap items-center justify-center sm:justify-start gap-3 mt-3"
>
  <li>
    <a href="/cv.pdf" download="CV Salinas Franco" class={classes("primary")}>
      {downloadLink.text}
    </a>
  </li>

  {
    profiles.map((profile) => (
      <li>
        <a
          href={profile.url}
          target="_blank"
          rel="noopener noreferrer"
          class={classes("iconBubble")}
        >
          <Image
            src={`/icons/${profile.network.toLowerCase()}.svg`}
            alt={profile.network}
            width="18"
            height="18"
            class="opacity-90"
          />
          <span>{profile.username}</span>
        </a>
      </li>
    ))
  }

  <!-- Ejemplos de variantes premium extra -->

  <!-- <li>
    <button class={classes("subtle")}>Subtle</button>
  </li>

  <li>
    <button class={classes("ghost")}>Ghost</button>
  </li>

  <li>
    <button class={classes("chip")}>Tag</button>
  </li>

  <li>
    <button class={classes("iconBubble")}>
      <span class="text-xs">ðŸ’¬</span> Chat
    </button>
  </li> -->
</ul>
