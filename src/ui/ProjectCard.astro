---
interface Props {
  project: {
    id: number;
    title: string;
    period: string;
    type: string;
    description: string;
    thumbnail: string;
    repository: string | null;
    stack: string[];
  };
  customColor: string;
}

const { customColor, project } = Astro.props;
---

<article
  aria-labelledby={`project-${project.id}-title`}
  style={`--project-color: ${customColor};`}
  class="
    group select-none h-full flex flex-col overflow-hidden w-full sm:w-auto
    rounded-2xl p-5 border border-[var(--wolt-border)] bg-[var(--wolt-surface)]
    dark:bg-[var(--wolt-surface-dark)] dark:border-[var(--wolt-border-dark)]
    shadow-sm transition-all duration-300 ease-out

    hover:shadow-lg hover:-translate-y-[2px]
    hover:border-[var(--project-color)]/60
    hover:[box-shadow:0_8px_20px_-6px_rgb(0_0_0_/_15%),0_0_0_2px_var(--project-color)_inset]
  "
>
  <!-- GitHub Icon -->
  <a
    aria-label="Abrir repositorio en GitHub"
    class="size-7 self-end opacity-80 hover:opacity-100 transition"
    href={project.repository}
    target="_blank"
    rel="noopener noreferrer"
  >
    <img
      src="/icons/github.svg"
      alt=""
      aria-hidden="true"
      class="
        opacity-80 transition-all duration-300 ease-out rounded-full
        group-hover:opacity-100 
        group-hover:[filter:drop-shadow(0_0_6px_var(--project-color))]
        group-hover:[transform:scale(1.05)]
      "
    />
  </a>

  <!-- Content -->
  <div class="flex flex-col gap-3 mt-2 h-full">
    <header class="flex flex-col gap-0.5">
      <h2 class="font-semibold text-[1.05rem] sm:text-lg md:text-xl leading-tight text-[var(--wolt-text)] dark:text-[var(--wolt-text-dark)]">
        {project.title}
      </h2>
      <h3
        class="text-xs sm:text-sm text-[var(--wolt-text-muted)] dark:text-[var(--wolt-text-muted-dark)]"
      >
        {project.type}
      </h3>
    </header>

    <p
      class="text-sm sm:text-base leading-relaxed mt-1 flex-grow
             text-[var(--wolt-text-secondary)] dark:text-[var(--wolt-text-secondary-dark)]"
    >
      {project.description}
    </p>
  </div>
</article>

